---
layout: default
title: Painting With ASCII (Base on Python)
category: Note
---

<h2>{{ page.title }}</h2>

<div class="category">
	<span>Category : {{ page.category }}</span>
</div>
<div class="date">
	<span>{{ page.date | date: '%Y-%m-%d' }}</span>
</div>

<div class="content">
	<p>As the graduation coming, I found that I had writen a lot of code but not sorting them and some of them even have not code comments. So I decide to sort them and write some documentation or note for them.</p>
	<p>I found this code yesterday which I wrote in 2013. In my memory, it's the second time I made that function. Painting with ASCII, an interesting thought I saw in a web site when I was learning Image Processing base on python. So I decided to make it with python. </p>
	<p>The idea of realizing this function includes three part. Firt of all, painting all the letters and some puncluation which you want to use, like space, period, comma and so on, and then caculate the gradation of them. Secondly, reading a image and resize it into the size you need. Thirdly, caculating the pixel gray of the image and put the letter, which has the nearest gradation with the pixel, in the same position of a new white image.</p>
	<p>Here is my <a href="https://github.com/Entel/picToASCII.git" target="_blank">code</a>.</p> 
	<p>The <a href="https://github.com/Entel/picToASCII/blob/master/drawLetter.py" target="_blank">drawLetter.py</a> is to draw the letters and puncluations and save each one as an image. The PIL (Python Imaging Library) is a library which supports many file formats, and provides powerful image processing and graphics capabilities. You can draw the letters with the following codes.</p>
	<pre name="code" class="python">
	img = Image.new("RGB", (10, 10), (255, 255, 255))	
	draw = ImageDraw.Draw(img)
	draw.text((0, -3), chr(text), font=font, fill="#000000")	#position, content, font, color
	</pre>
	<p>But remenber the letters have each different width and hight, set their posion if they can't fullfill the 10*10 image.</p>
	<p>The <a href="https://github.com/Entel/picToASCII/blob/master/makeDis.py" target="_blank">makeDis.py</a> has two functions. One is to caculate the average gradation of a image and anothor one is to  make a dictionary of the letters.</p>
	<p>The last one, <a href="https://github.com/Entel/picToASCII/blob/master/main.py" target="_blank">main.py</a> has three funtion: resize, match gradation and make new image. </p>
	<p>Image, a module of PIL, has a function can resize a image.</p>
	<pre name="code" class="python">
	out = img.resize((500, 500*height / width))	#width, height
	</pre>
	<p>When the input image has been resized, you must build a new image with the size (width*10)*(height*10), cause the letters' size is 10*10. Then you must caculate the gradation of every pixel of the resized image and then search the nearest gradation of the letter from the dictionary we make in the step two. And then put the matched letter into the same position of the new image.</p>
	<p>Here is two set of the processing result. The output is to large so I only post the link here.</p>
	<p><a href="https://github.com/Entel/picToASCII/blob/master/sysu.jpg" target="_blank">Input_1</a> & <a href="https://github.com/Entel/picToASCII/blob/master/output_sysu.jpg" target="_blank">Output_1</a></p>
	<p><a href="https://github.com/Entel/picToASCII/blob/master/input.jpg" target="_blank">Input_2</a> & <a href="https://github.com/Entel/picToASCII/blob/master/output_input.jpg" target="_blank">Output_2</a></p>
</div>
